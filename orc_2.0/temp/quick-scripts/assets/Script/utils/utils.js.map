{"version":3,"sources":["utils.js"],"names":["saveData","key","data","window","localStorage","setItem","JSON","stringify","fetchData","name","getItem","parse","showLoading","title","wx","mask","hideLoading","showToast","icon","time","duration","alert","showAlert","content","callback","showModal","showCancel","success","res","showConfirm","successCallback","failCallback","confirm","cancel","timeFormat","num","_Appoint","month","day","hour","minute","second","date","Date","getTime","getMonth","slice","getDate","getHours","getMinutes","getSeconds","getFullYear","module","exports"],"mappings":"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","file":"utils.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\utils","sourcesContent":["\r\n// 本地储存数据\r\nfunction saveData(key, data) {\r\n    window.localStorage.setItem(key, JSON.stringify(data));\r\n}\r\n// 获取本地数据\r\nfunction fetchData(name) {\r\n    let data = window.localStorage.getItem(name) ? JSON.parse(window.localStorage.getItem(name)) : null;\r\n    return data;\r\n}\r\n// 显示 loading\r\nfunction showLoading(title) {\r\n    if (wx.showLoading) {\r\n        wx.showLoading({\r\n            title: title,\r\n            mask: true,\r\n        });\r\n    }\r\n}\r\n// 隐藏 loading\r\nfunction hideLoading() {\r\n    if (wx.hideLoading) wx.hideLoading();\r\n}\r\n/**\r\n * 显示 toast\r\n * @param {string} title 提示文字\r\n * @param {string} icon type: 'success', 'loading', 'none'\r\n * @param {number} time 时间\r\n */\r\nfunction showToast(title = '提示', icon = 'none', time = 2000) {\r\n    if (window.wx) {\r\n        // wx.showToast\r\n        wx.showToast({\r\n            title: title,\r\n            icon: icon,\r\n            duration: time\r\n        });\r\n    } else {\r\n        alert(title);\r\n    }\r\n}\r\n// 弹窗\r\nfunction showAlert(content, title = '提示', callback = null) {\r\n    wx.showModal({\r\n        title: title,\r\n        content: content,\r\n        showCancel: false,\r\n        success(res) {\r\n            if (typeof callback === 'function') callback();\r\n        }\r\n    });\r\n}\r\n// 确认弹窗\r\nfunction showConfirm(content, title = '确认提醒', successCallback = null, failCallback = null) {\r\n    wx.showModal({\r\n        title: title,\r\n        content: content,\r\n        showCancel: true,\r\n        success(res) {\r\n            if (res.confirm) {\r\n                if (typeof successCallback === 'function') successCallback();\r\n            } else if (res.cancel) {\r\n                if (typeof failCallback === 'function') failCallback();\r\n            }\r\n        },\r\n    });\r\n}\r\n/**\r\n * 时间戳生成\r\n * 指定天数 num: 1时为明天，-1为昨天，以此类推\r\n*/\r\nfunction timeFormat(num = 0) {\r\n    let _Appoint, month, day, hour, minute, second, date;\r\n    if (num > 0) {\r\n        _Appoint = new Date(new Date().getTime() + (num * 24 * 3600 * 1000));\r\n    } else {\r\n        _Appoint = new Date(new Date() - (num * 24 * 3600 * 1000));\r\n    }\r\n    month = ('0' + (_Appoint.getMonth() + 1)).slice(-2);\r\n    day = ('0' + _Appoint.getDate()).slice(-2);\r\n    hour = ('0' + _Appoint.getHours()).slice(-2);\r\n    minute = ('0' + _Appoint.getMinutes()).slice(-2);\r\n    second = ('0' + _Appoint.getSeconds()).slice(-2);\r\n    date = `${_Appoint.getFullYear()}-${month}-${day} ${hour}:${minute}:${second}`\r\n    return date;\r\n}\r\nmodule.exports = {\r\n    saveData,\r\n    fetchData,\r\n    showLoading,\r\n    hideLoading,\r\n    showToast,\r\n    showAlert,\r\n    showConfirm,\r\n    timeFormat\r\n}"]}