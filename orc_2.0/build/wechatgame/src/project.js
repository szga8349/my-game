__require=function e(o,t,n){function a(c,i){if(!t[c]){if(!o[c]){var l=c.split("/");if(l=l[l.length-1],!o[l]){var r="function"==typeof __require&&__require;if(!i&&r)return r(l,!0);if(s)return s(l,!0);throw new Error("Cannot find module '"+c+"'")}}var u=t[c]={exports:{}};o[c][0].call(u.exports,function(e){return a(o[c][1][e]||e)},u,u.exports,e,o,t,n)}return t[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<n.length;c++)a(n[c]);return a}({Ball_old:[function(e,o,t){"use strict";cc._RF.push(o,"f0b8cOJaiJAsJgf2ie+VEXd","Ball_old");var n=e("Global"),a=[{mountain:"#7D2C1B",tree:"#491D12",floor:"#75280C",ground:"#3D1805"},{mountain:"#81b68c",tree:"#65977a",floor:"#e5c282",ground:"#2b5748"}];cc.Class({extends:cc.Component,properties:{moveBox:{default:null,type:cc.Node},bgColor:{default:null,type:cc.Node},audioFloor:{default:null,type:cc.AudioClip},audioDeath:{default:null,type:cc.AudioClip},audioBox:{default:null,type:cc.AudioClip},audioBoom:{default:null,type:cc.AudioClip},audioBoard:{default:null,type:cc.AudioClip},scoreLabel:{default:null,type:cc.Label},maxLabel:{default:null,type:cc.Label},moneyLabel:{default:null,type:cc.Label},moneyTip:{default:null,type:cc.Label},explodeBoom:{default:null,type:cc.Prefab},explodeGold:{default:null,type:cc.Prefab}},moneyTipMove:function(e){n.userInfo.money+=e,this.moneyLabel.string=n.userInfo.money,this.moneyTip.string="\u91d1\u5e01 +"+e;var o=cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,2,2)),t=cc.scaleTo(.5,1,1),a=cc.spawn(cc.fadeOut(.3),cc.scaleTo(.3,1,1)),s=cc.sequence(o,t,a);s.easing(cc.easeOut(3)),this.moneyTip.node.runAction(s)},viewScale:function(){if(!(this.node.y<500)){var e=75/(890/this.node.y);n.game.wrap.scale=(500-e)/this.node.y}},colorSwitch:function(e,o,t,n,s){function c(e,o){var t=cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.color=cc.hexToColor(a[s][o])}),cc.fadeIn(.3));e.runAction(t)}c(e,"mountain"),c(o,"tree"),c(t,"floor"),c(n,"ground")},bgMove:function(){var e=this.moveBox.width,o=this.moveBox.getChildByName("sun"),t=this.moveBox.getChildByName("tree"),a=this.moveBox.getChildByName("mountain"),s=this.moveBox.getChildByName("floor"),c=this.moveBox.getChildByName("ground"),i=this.moveBox.getChildByName("cloud");o.x-=this.bg_speed,o.x<=-o.width&&(o.x=e,n.gameInfo.level=n.gameInfo.countToatal==n.gameInfo.minNumber?n.gameInfo.level:n.gameInfo.level+1,255==o.opacity?(this.colorSwitch(a,t,s,c,1),this.bgColor.getChildByName("color-2").runAction(cc.fadeIn(.3)),o.runAction(cc.fadeOut(.3)),i.runAction(cc.fadeIn(.3))):(this.colorSwitch(a,t,s,c,0),this.bgColor.getChildByName("color-2").runAction(cc.fadeOut(.3)),o.runAction(cc.fadeIn(.3)),i.runAction(cc.fadeOut(.3)))),this.score_count+=this.bg_speed,this.score_count>=5&&(this.score_count=0,n.gameInfo.score+=1,this.scoreLabel.string=n.gameInfo.score+"m",n.userInfo.maxScore>n.gameInfo.score?this.maxLabel.string="\u8ddd\u79bb\u4e2a\u4eba\u6700\u8fdc\u8ddd\u79bb\u8fd8\u5dee "+(n.userInfo.maxScore-n.gameInfo.score)+" m":this.maxLabel.string="\u8d85\u8d8a\u4e2a\u4eba\u6700\u8fdc\u8ddd\u79bb "+(n.gameInfo.score-n.userInfo.maxScore)+" m"),i.x-=5+this.bg_speed,i.x<=-i.width&&(i.x=e),a.x-=10+2*this.bg_speed,a.x<=-e&&(a.x=0),t.x-=12.5+2.5*this.bg_speed,t.x<=-e&&(t.x=0),c.x-=17.5+3.5*this.bg_speed,c.x<=-e&&(c.x=0)},restData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.floorNum=e,n.gameInfo.startDash||(this.bg_speed+=t,this.bg_speed>5&&(this.bg_speed=5),this.bg_speed<1&&(this.bg_speed=1),5==this.bg_speed?this.isSprint||(this.isSprint=!0,n.game.speedBone.getComponent(dragonBones.ArmatureDisplay).playAnimation("move",0)):this.isSprint&&(this.isSprint=!1,n.game.speedBone.getComponent(dragonBones.ArmatureDisplay).playAnimation("stop",0))),this.value=.5,this.node.getChildByName("bone").getComponent(dragonBones.ArmatureDisplay).timeScale=o?.5:1},collisionFloor:function(){window.wx&&wx.vibrateShort(),this.floorNum+=5,this.floorNum>=25?(n.gameInfo.state="over",this.node.y=this.node.height/2,this.bounce=0,this.node.getChildByName("bone").getComponent(dragonBones.ArmatureDisplay).playAnimation("rockStop",1),this.node.getChildByName("particle").getComponent(cc.ParticleSystem).stopSystem(),n.game.gameOver()):this.bounce=25-this.floorNum,n.game.nodeShock(),this.restData(this.floorNum,!0,-2),cc.audioEngine.play(this.audioFloor,!1)},collisionBoard:function(e){var o=this;"over"!=n.gameInfo.state&&(window.wx&&wx.vibrateShort(),this.floorNum=10,this.isBoard=!0,this.value>=1?this.bounce=15:this.bounce=10,e.destroy(),this.scheduleOnce(function(){o.restData(o.floorNum,!0,-1),o.isBoard=!1},.01),cc.audioEngine.play(this.audioBoard,!1))},collisionOrc:function(e){var o=this;"over"==n.gameInfo.state||this.isBoard||(window.wx&&wx.vibrateShort(),this.value>=1?(this.bounce=20,this.scheduleOnce(function(){o.isBoard||o.restData()},.01)):(this.bounce=10,this.floorNum=10,this.scheduleOnce(function(){o.isBoard||o.restData(o.floorNum,!1,-1)},.01)),n.game.explode(e),n.game.orcPool.put(e),n.gameInfo.total-n.gameInfo.level>=n.gameInfo.countToatal?n.game.creatOrc():(console.log("\u51cf\u5c11\u4e00\u4e2a\u517d\u4eba============>"),n.gameInfo.countToatal=n.gameInfo.countToatal<=n.gameInfo.minNumber?n.gameInfo.minNumber:n.gameInfo.countToatal-1),cc.audioEngine.play(this.audioDeath,!1))},collisionStorehouse:function(e){var o=this;if("over"!=n.gameInfo.state){window.wx&&wx.vibrateShort(),this.value>=1?(this.bounce=25,this.scheduleOnce(function(){o.restData()},.01)):(this.bounce=15,this.scheduleOnce(function(){o.restData(0,!1,-1)},.01)),e.destroy();var t=cc.instantiate(this.explodeGold);t.setPosition(e.x+50,e.y+50),t.parent=n.game.map;var a=parseInt(50*Math.random())+50;this.moneyTipMove(a),cc.audioEngine.play(this.audioBox,!1)}},collisionBomb:function(e){var o=this;if("over"!=n.gameInfo.state){window.wx&&wx.vibrateLong(),this.value>=1?(this.bounce=30,this.scheduleOnce(function(){o.restData()},.01)):(this.bounce=20,this.scheduleOnce(function(){o.restData(0,!1,-1)},.01)),n.game.nodeShock(),e.destroy();var t=cc.instantiate(this.explodeBoom);t.setPosition(e.x+50,e.y+50),t.parent=n.game.map,cc.audioEngine.play(this.audioBoom,!1)}},onCollisionEnter:function(e,o){if("over"!=n.gameInfo.state)switch(e.node.name){case"floor":this.collisionFloor();break;case"orc":this.collisionOrc(e.node);break;case"storehouse":this.collisionStorehouse(e.node);break;case"bomb":this.collisionBomb(e.node);break;case"board":this.collisionBoard(e.node)}},onLoad:function(){this.bounce=0,this.bg_speed=0,this.restData(),this.score_count=0,this.isSprint=!1,this.moneyLabel.string=n.userInfo.money},update:function(e){"running"==n.gameInfo.state&&(this.bgMove(),this.viewScale(),this.bounce-=1*this.value,this.node.y+=this.bounce,this.node.y<0&&(this.node.y=this.node.width/2+1))}}),cc._RF.pop()},{Global:"Global"}],Ball:[function(e,o,t){"use strict";cc._RF.push(o,"cb8acBJ2t5H26YyJTwSNrq5","Ball");var n=e("Global"),a=[{mountain:"#7D2C1B",tree:"#491D12",floor:"#75280C",ground:"#3D1805"},{mountain:"#81b68c",tree:"#65977a",floor:"#e5c282",ground:"#2b5748"}];cc.Class({extends:cc.Component,properties:{moveBox:{default:null,type:cc.Node},bgColor:{default:null,type:cc.Node},audioFloor:{default:null,type:cc.AudioClip},audioDeath:{default:null,type:cc.AudioClip},audioBox:{default:null,type:cc.AudioClip},audioBoom:{default:null,type:cc.AudioClip},audioBoard:{default:null,type:cc.AudioClip},scoreLabel:{default:null,type:cc.Label},maxLabel:{default:null,type:cc.Label},moneyLabel:{default:null,type:cc.Label},moneyTip:{default:null,type:cc.Label},explodeBoom:{default:null,type:cc.Prefab},explodeGold:{default:null,type:cc.Prefab}},moneyTipMove:function(e){n.userInfo.money+=e,this.moneyLabel.string=n.userInfo.money,this.moneyTip.string="\u91d1\u5e01 +"+e;var o=cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,2,2)),t=cc.scaleTo(.5,1,1),a=cc.spawn(cc.fadeOut(.3),cc.scaleTo(.3,1,1)),s=cc.sequence(o,t,a);s.easing(cc.easeOut(3)),this.moneyTip.node.runAction(s)},viewScale:function(){if(!(this.node.y<500)){var e=75/(890/this.node.y);n.game.wrap.scale=(500-e)/this.node.y}},colorSwitch:function(e,o,t,n,s){function c(e,o){var t=cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.color=cc.hexToColor(a[s][o])}),cc.fadeIn(.3));e.runAction(t)}c(e,"mountain"),c(o,"tree"),c(t,"floor"),c(n,"ground")},bgMove:function(){var e=this.moveBox.width,o=this.moveBox.getChildByName("sun"),t=this.moveBox.getChildByName("tree"),a=this.moveBox.getChildByName("mountain"),s=this.moveBox.getChildByName("floor"),c=this.moveBox.getChildByName("ground"),i=this.moveBox.getChildByName("cloud"),l=n.gameInfo.speed;o.x-=l,o.x<=-o.width&&(o.x=e,n.gameInfo.level=n.gameInfo.countToatal==n.gameInfo.minNumber?n.gameInfo.level:n.gameInfo.level+1,255==o.opacity?(this.colorSwitch(a,t,s,c,1),this.bgColor.getChildByName("color-2").runAction(cc.fadeIn(.3)),o.runAction(cc.fadeOut(.3)),i.runAction(cc.fadeIn(.3))):(this.colorSwitch(a,t,s,c,0),this.bgColor.getChildByName("color-2").runAction(cc.fadeOut(.3)),o.runAction(cc.fadeIn(.3)),i.runAction(cc.fadeOut(.3)))),this.score_count+=l,this.score_count>=5&&(this.score_count=0,n.gameInfo.score+=1,this.scoreLabel.string=n.gameInfo.score+"m",n.userInfo.maxScore>n.gameInfo.score?this.maxLabel.string="\u8ddd\u79bb\u4e2a\u4eba\u6700\u8fdc\u8ddd\u79bb\u8fd8\u5dee "+(n.userInfo.maxScore-n.gameInfo.score)+" m":this.maxLabel.string="\u8d85\u8d8a\u4e2a\u4eba\u6700\u8fdc\u8ddd\u79bb "+(n.gameInfo.score-n.userInfo.maxScore)+" m"),i.x-=5+l,i.x<=-i.width&&(i.x=e),a.x-=10+2*l,a.x<=-e&&(a.x=0),t.x-=12.5+2.5*l,t.x<=-e&&(t.x=0),c.x-=17.5+3.5*l,c.x<=-e&&(c.x=0)},collisionFloor:function(){window.wx&&wx.vibrateShort(),n.gameInfo.speed>n.gameInfo.speedFixed&&(n.gameInfo.speed=n.gameInfo.speedFixed),this.bounce=n.gameInfo.speed/n.gameInfo.speedFixed*20,n.gameInfo.startDash||(n.gameInfo.speed>1?n.gameInfo.speed=Math.ceil(n.gameInfo.speed)-1:n.gameInfo.speed-=1),n.game.nodeShock(),this.restData(!0),cc.audioEngine.play(this.audioFloor,!1)},collisionBoard:function(e){var o=this;"over"!=n.gameInfo.state&&(window.wx&&wx.vibrateShort(),this.isBoard=!0,this.value>=1?this.bounce=15:this.bounce=10,n.gameInfo.startDash||(n.gameInfo.speed>n.gameInfo.speedFixed?n.gameInfo.speed=n.gameInfo.speedFixed-1:n.gameInfo.speed-=.5),this.scheduleOnce(function(){o.restData(!0),o.isBoard=!1},.01),cc.audioEngine.play(this.audioBoard,!1),e.destroy())},collisionOrc:function(e){var o=this;if("over"!=n.gameInfo.state&&!this.isBoard){if(window.wx&&wx.vibrateShort(),this.value>=1)this.bounce=20,n.gameInfo.speed+=.5,n.gameInfo.speed>8&&(n.gameInfo.speed=8);else{var t=n.gameInfo.speed;n.gameInfo.speed>n.gameInfo.speedFixed&&(t=n.gameInfo.speedFixed),this.bounce=t/n.gameInfo.speedFixed*18,n.gameInfo.startDash||(n.gameInfo.speed-=.5)}this.scheduleOnce(function(){o.isBoard||o.restData(!1)},.01),n.game.explode(e),n.game.orcPool.put(e),n.gameInfo.total-n.gameInfo.level>=n.gameInfo.countToatal?n.game.creatOrc():(console.log("\u51cf\u5c11\u4e00\u4e2a\u517d\u4eba============>"),n.gameInfo.countToatal=n.gameInfo.countToatal<=n.gameInfo.minNumber?n.gameInfo.minNumber:n.gameInfo.countToatal-1),cc.audioEngine.play(this.audioDeath,!1)}},collisionStorehouse:function(e){var o=this;if("over"!=n.gameInfo.state){window.wx&&wx.vibrateShort(),this.value>=1?(this.bounce=25,n.gameInfo.speed+=1,n.gameInfo.speed>8&&(n.gameInfo.speed=8)):(this.bounce=15,n.gameInfo.speed+=.5,n.gameInfo.speed<5&&(n.gameInfo.speed=3),n.gameInfo.speed>8&&(n.gameInfo.speed=8)),this.scheduleOnce(function(){o.restData(!1)},.01),e.destroy();var t=cc.instantiate(this.explodeGold);t.setPosition(e.x+50,e.y+50),t.parent=n.game.map;var a=parseInt(50*Math.random())+50;this.moneyTipMove(a),cc.audioEngine.play(this.audioBox,!1)}},collisionBomb:function(e){var o=this;if("over"!=n.gameInfo.state){window.wx&&wx.vibrateLong(),this.value>=1?(this.bounce=30,n.gameInfo.speed+=2,n.gameInfo.speed>8&&(n.gameInfo.speed=8)):(this.bounce=20,n.gameInfo.speed+=1,n.gameInfo.speed<5&&(n.gameInfo.speed=4),n.gameInfo.speed>8&&(n.gameInfo.speed=8)),this.scheduleOnce(function(){o.restData(!1)},.01),this.node.getChildByName("particle").getComponent(cc.ParticleSystem).resetSystem(),n.game.nodeShock(),e.destroy();var t=cc.instantiate(this.explodeBoom);t.setPosition(e.x+50,e.y+50),t.parent=n.game.map,cc.audioEngine.play(this.audioBoom,!1)}},onCollisionEnter:function(e,o){if("over"!=n.gameInfo.state)switch(e.node.name){case"floor":this.collisionFloor();break;case"orc":this.collisionOrc(e.node);break;case"storehouse":this.collisionStorehouse(e.node);break;case"bomb":this.collisionBomb(e.node);break;case"board":this.collisionBoard(e.node)}},restData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.gameInfo.startDash||(8==n.gameInfo.speed?this.isSprint||(this.isSprint=!0):this.isSprint&&(this.isSprint=!1),this.node.getChildByName("bone").getComponent(dragonBones.ArmatureDisplay).timeScale=e?.5:1),this.value=.5},onLoad:function(){this.bounce=0,this.restData(),this.score_count=0,this.isSprint=!1,this.moneyLabel.string=n.userInfo.money},update:function(e){"over"!=n.gameInfo.state&&(n.gameInfo.speed<=0&&(n.gameInfo.state="over",this.node.y=this.node.height/2,this.bounce=0,this.node.getChildByName("bone").getComponent(dragonBones.ArmatureDisplay).playAnimation("rockStop",1),this.node.getChildByName("particle").getComponent(cc.ParticleSystem).stopSystem(),n.game.gameOver()),this.bgMove(),this.viewScale(),this.bounce-=1*this.value,this.node.y+=this.bounce,this.node.y<0&&(this.node.y=this.node.width/2+1))}}),cc._RF.pop()},{Global:"Global"}],Game_over:[function(e,o,t){"use strict";cc._RF.push(o,"50d8cxmSPBDa7BUwSDGJ+8r","Game_over");var n=e("Global");cc.Class({extends:cc.Component,properties:{audioRevive:{default:null,type:cc.AudioClip}},openRank:function(){n.restData(),cc.director.loadScene("Rank")},openShare:function(){wx.shareAppMessage({title:n.shareInfo.title,imageUrl:n.shareInfo.url})},playAgain:function(){n.restData(),cc.director.loadScene("Home")},reviveGame:function(){cc.audioEngine.play(this.audioRevive,!1),this.node.destroy();var e=cc.sequence(cc.moveBy(.5,0,350),cc.callFunc(function(){n.game.ball.getChildByName("bone").getComponent(dragonBones.ArmatureDisplay).playAnimation("rock",0),n.game.ball.getChildByName("particle").getComponent(cc.ParticleSystem).resetSystem(),n.game.balljs.restData(),n.gameInfo.speed=n.gameInfo.speedFixed,n.game.balljs.bounce=0,n.gameInfo.state="running",n.playBgm=!0,cc.audioEngine.playMusic(n.game.audioBgm,!0),n.game.revived=!0}));n.game.ball.runAction(e)}}),cc._RF.pop()},{Global:"Global"}],Game:[function(e,o,t){"use strict";cc._RF.push(o,"140e8YV+5pIDrBuK336hK4/","Game");var n=e("Global");cc.Class({extends:cc.Component,properties:{wrap:{default:null,type:cc.Node},ball:{default:null,type:cc.Node},coverStart:{default:null,type:cc.Node},map:{default:null,type:cc.Node},orc:{default:null,type:cc.Prefab},storehouse:{default:null,type:cc.Prefab},bomb:{default:null,type:cc.Prefab},board:{default:null,type:cc.Prefab},blood:{default:null,type:cc.Prefab},coverOver:{default:null,type:cc.Prefab},audioBgm:{default:null,type:cc.AudioClip},audioFail:{default:null,type:cc.AudioClip},pauseBtn:{default:null,type:cc.Node},blaze:{default:null,type:cc.Node},speedBone:{default:null,type:cc.Node}},nodeShock:function(){this.wrap.stopAllActions();var e=cc.sequence(cc.moveTo(.1,0,30),cc.moveTo(.1,0,-30),cc.moveTo(.1,0,30),cc.moveTo(.1,0,-30),cc.moveTo(.1,0,0));this.wrap.runAction(e)},sprintMove:function(){var e=this;window.wx&&wx.vibrateLong(),this.balljs.bg_speed=5;var o=cc.sequence(cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.fadeIn(.2),cc.fadeOut(.2),cc.callFunc(function(){n.gameInfo.startDash=!1,e.blaze.destroy(),console.log("\u51b2\u523a\u7ed3\u675f")}));this.blaze.runAction(o)},stateSwitch:function(){var e=this;this.pauseGame?(this.pauseGame=!1,cc.director.resume(),cc.loader.loadRes("pause",cc.SpriteFrame,function(o,t){e.pauseBtn.getComponent(cc.Sprite).spriteFrame=t})):(this.pauseGame=!0,cc.director.pause(),cc.loader.loadRes("play",cc.SpriteFrame,function(o,t){e.pauseBtn.getComponent(cc.Sprite).spriteFrame=t}))},startGame:function(){var e=this;this.coverStart.destroy(),n.gameInfo.countToatal=n.gameInfo.total;var o=cc.sequence(cc.moveTo(1,this.wrap.width/2,500),cc.callFunc(function(){for(var o=function(o){e.scheduleOnce(function(){e.creatOrc(o)},.2)},t=n.gameInfo.total;t>0;t--)o(t);n.gameInfo.state="running",e.schedule(function(){return e.creatPropOrc(e.storehouse)},n.gameInfo.orcMoney),e.schedule(function(){return e.creatPropOrc(e.bomb)},n.gameInfo.orcBoom),e.schedule(function(){return e.creatPropOrc(e.board)},n.gameInfo.orcBoard),n.gameInfo.startDash?(e.sprintMove(),n.gameInfo.speed=8,e.balljs.isSprint=!0):e.blaze.destroy()}));this.ball.runAction(o),this.node.width>=1500&&(cc.find("move-box/floor",this.wrap).width=3700,console.log("\u9488\u5bf9\u5168\u9762\u5c4f\u624b\u673a\u505a\u7684\u5730\u677f\u62c9\u957f"))},gameOver:function(){if(n.gameInfo.score>n.userInfo.maxScore&&(console.log("\u66f4\u65b0\u6700\u9ad8\u5206\u6570"),n.userInfo.maxScore=n.gameInfo.score),n.saveData(),this.coverOverBox=cc.instantiate(this.coverOver),this.coverOverBox.parent=this.node,!this.revived){this.coverOverBox.getChildByName("revive").active=!0;var e=cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.3,1.2),cc.scaleTo(.2,1,1)));this.coverOverBox.getChildByName("revive").runAction(e)}n.playBgm=!1,cc.audioEngine.stopMusic(),cc.audioEngine.play(this.audioFail,!1),window.wx&&wx.postMessage({action:"updata",score:n.gameInfo.score})},creatBloodPool:function(){this.bloodPool=new cc.NodePool;for(var e=0;e<n.gameInfo.total-5;++e){var o=cc.instantiate(this.blood);this.bloodPool.put(o)}},explode:function(e){var o=this,t=null,n=e.x+e.width/2,a=e.y+e.height/2;this.bloodPool.size()>0?t=this.bloodPool.get():(cc.log("\u91cd\u65b0\u521b\u5efa\u7c92\u5b50"),t=cc.instantiate(this.blood)),t.setPosition(n,a),t.parent=this.map,t.getComponent(cc.ParticleSystem).resetSystem(),this.scheduleOnce(function(){return o.bloodPool.put(t)},.5)},creatOrcPool:function(){this.orcPool=new cc.NodePool;for(var e=0;e<n.gameInfo.total;++e){var o=cc.instantiate(this.orc);this.orcPool.put(o)}},creatOrc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=null;this.orcPool.size()>0?o=this.orcPool.get():(console.log("\u5bf9\u8c61\u6c60\u4e0d\u591f\u7528\uff0c\u91cd\u65b0\u521b\u5efa"),o=cc.instantiate(this.orc)),o.y=0,o.x=this.map.width+o.width,e&&(e<=10?(o.moveSpeed=2+.8*e,o.getChildByName("node").getComponent(dragonBones.ArmatureDisplay).timeScale=2-.1*e):(o.moveSpeed=6-.3*(e-10),o.getChildByName("node").getComponent(dragonBones.ArmatureDisplay).timeScale=2-.1*(e-10))),o.parent=this.map},creatPropOrc:function(e){var o=cc.instantiate(e);o.y=0,o.x=this.map.width+o.width,o.moveSpeed=parseInt(5*Math.random())+5,o.getChildByName("node").getComponent(dragonBones.ArmatureDisplay).timeScale=2-o.moveSpeed/5*.2,o.parent=this.map},onLoad:function(){n.game=this,cc.director.getCollisionManager().enabled=!0,this.balljs=this.ball.getComponent("Ball"),this.creatOrcPool(),this.creatBloodPool()},start:function(){var e=this;this.node.on("touchstart",function(){"over"==n.gameInfo.state||e.pauseGame||(e.balljs.value=3,e.balljs.bounce=-Math.abs(e.balljs.bounce))},this),window.wx&&(wx.showShareMenu(),wx.onShareAppMessage(function(e){return{title:n.shareInfo.title,imageUrl:n.shareInfo.url}}))}}),cc._RF.pop()},{Global:"Global"}],Global:[function(e,o,t){"use strict";cc._RF.push(o,"ccbdbz4xYJOtJdax0OemaT/","Global"),o.exports={game:null,home:null,playBgm:!1,gameInfo:{state:"over",countToatal:0,total:10,level:0,orcBoom:6,orcBoard:5,orcMoney:10,score:0,minNumber:4,startDash:!1,crazy:1,speed:5,speedFixed:5},userInfo:{money:0,dash:1,fanatical:1,boom:1,signDate:"",signDay:1,maxScore:0},shareInfo:{title:"",url:""},restData:function(){this.gameInfo.score=0,this.gameInfo.level=0,this.gameInfo.total=10,this.gameInfo.crazy=1,this.gameInfo.orcBoom=6,this.gameInfo.orcBoard=5,this.gameInfo.orcMoney=10,this.gameInfo.startDash=!1,this.gameInfo.speed=3},saveData:function(){window.localStorage.setItem("orcUserInfo",JSON.stringify(this.userInfo))},fetchData:function(){return window.localStorage.getItem("orcUserInfo")?JSON.parse(window.localStorage.getItem("orcUserInfo")):null}},cc._RF.pop()},{}],Home:[function(e,o,t){"use strict";cc._RF.push(o,"f149fTAsvFGpqRl39CPTvqE","Home");var n=e("Global"),a=e("utils");cc.Class({extends:cc.Component,properties:{moneyLabel:{default:null,type:cc.Label},skilBox:{default:null,type:cc.Node},explain:{default:null,type:cc.Node},shopBox:{default:null,type:cc.Prefab},signInBox:{default:null,type:cc.Prefab},audioBgm:{default:null,type:cc.AudioClip}},removeData:function(){window.localStorage.clear(),cc.director.loadScene("Home")},checkSign:function(){if(a.timeFormat().split(" ")[0]!=n.userInfo.signDate.split(" ")[0]){var e=cc.instantiate(this.signInBox);e.y=e.x=0,e.parent=this.node}},skilBtn:function(e,o){switch(Number(o)){case 1:0==n.userInfo.dash?(this.switchSkillBox(),this.switchShop(null,"show")):(n.userInfo.dash-=1,n.gameInfo.startDash=!0,n.saveData(),cc.director.loadScene("Game"));break;case 2:0==n.userInfo.boom?(this.switchSkillBox(),this.switchShop(null,"show")):(n.userInfo.boom-=1,n.saveData(),n.gameInfo.orcBoom=3,cc.director.loadScene("Game"));break;case 3:0==n.userInfo.fanatical?(this.switchSkillBox(),this.switchShop(null,"show")):(n.userInfo.fanatical-=1,n.saveData(),n.gameInfo.crazy=2,n.gameInfo.total=18,cc.director.loadScene("Game"))}},switchSkillBox:function(e){var o=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.skillMove){this.skillMove=!0;var n=null;(n=t?cc.moveTo(.5,0,0):cc.moveTo(.5,0,-this.node.height)).easing(cc.easeExponentialOut(3));var a=cc.sequence(n,cc.callFunc(function(){o.skillMove=!1}));this.skilBox.runAction(a)}},switchShop:function(e){var o=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.shopMove){this.shopMove=!0;var n=null;(n=t?cc.moveTo(.5,0,0):cc.moveTo(.5,0,this.node.height)).easing(cc.easeExponentialOut(3));var a=cc.sequence(n,cc.callFunc(function(){o.shopMove=!1}));this.shop.runAction(a)}},switchExplain:function(e){var o=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.explainMove){this.explainMove=!0;var n,a=null;t?(a=cc.moveTo(.5,0,0)).easing(cc.easeExponentialOut(3)):(a=cc.moveTo(.5,-this.node.width,0)).easing(cc.easeExponentialOut(3)),n=cc.sequence(a,cc.callFunc(function(){o.explainMove=!1})),this.explain.runAction(n)}},updateUserInfo:function(){this.moneyLabel.string=n.userInfo.money,cc.find("money/text",this.shop).getComponent(cc.Label).string=n.userInfo.money,cc.find("skill-1/content",this.skilBox).getComponent(cc.Label).string="\u9ad8\u80fd\u9668\u77f3 \xd7"+n.userInfo.dash,cc.find("skill-2/content",this.skilBox).getComponent(cc.Label).string="\u70b8\u5f39\u591a\u591a \xd7"+n.userInfo.boom,cc.find("skill-3/content",this.skilBox).getComponent(cc.Label).string="\u517d\u4eba\u72c2\u66b4 \xd7"+n.userInfo.fanatical,0==n.userInfo.dash?cc.find("skill-1/btn/text",this.skilBox).getComponent(cc.Label).string="\u53bb\u8d2d\u4e70":cc.find("skill-1/btn/text",this.skilBox).getComponent(cc.Label).string="\u4f7f\u7528",0==n.userInfo.boom?cc.find("skill-2/btn/text",this.skilBox).getComponent(cc.Label).string="\u53bb\u8d2d\u4e70":cc.find("skill-2/btn/text",this.skilBox).getComponent(cc.Label).string="\u4f7f\u7528",0==n.userInfo.fanatical?cc.find("skill-3/btn/text",this.skilBox).getComponent(cc.Label).string="\u53bb\u8d2d\u4e70":cc.find("skill-3/btn/text",this.skilBox).getComponent(cc.Label).string="\u4f7f\u7528"},openGame:function(){n.playBgm=!0,cc.director.loadScene("Game")},openRank:function(){n.playBgm=!0,cc.director.loadScene("Rank")},onLoad:function(){n.home=this,n.fetchData()&&(n.userInfo=n.fetchData()),this.shop=cc.instantiate(this.shopBox),this.shop.parent=this.node,this.shop.y=this.node.height,this.skilBox.y=-this.node.height,this.explain.width=this.node.width,this.explain.height=this.node.height,this.explain.x=-this.node.width,this.updateUserInfo(),this.checkSign(),cc.director.preloadScene("Game",function(){return console.log("\u9884\u52a0\u8f7d\u6e38\u620f\u573a\u666f\u6210\u529f")}),n.playBgm||cc.audioEngine.playMusic(this.audioBgm,!0)},start:function(){window.wx&&(wx.getUserInfo({success:function(e){console.log("\u7528\u6237\u6388\u6743\u4fe1\u606f====>",e)},fail:function(){var e=wx.getSystemInfoSync().windowWidth,o=wx.getSystemInfoSync().windowHeight;console.warn("\u521b\u5efa\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6309\u94ae");var t=wx.createUserInfoButton({type:"text",text:"",style:{left:0,top:0,width:e,height:o,lineHeight:o,backgroundColor:"rgba(0, 0, 0, 0)",color:"rgba(0, 0, 0, 0)",textAlign:"center",fontSize:16,borderRadius:4}});t.onTap(function(e){console.log("\u7528\u6237\u6388\u6743\u6570\u636e\uff1a",e),"getUserInfo:ok"==e.errMsg&&t.destroy()})}}),wx.showShareMenu(),wx.onShareAppMessage(function(e){return{title:n.shareInfo.title,imageUrl:n.shareInfo.url}}))}}),cc._RF.pop()},{Global:"Global",utils:"utils"}],Logo:[function(e,o,t){"use strict";cc._RF.push(o,"b3677chzw5JNYW1lOPAusuh","Logo"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.preloadScene("Home",function(){return console.log("\u9884\u52a0\u8f7d\u6e38\u620f\u573a\u666f\u6210\u529f")}),this.scheduleOnce(function(){cc.director.loadScene("Home")},2)},start:function(){}}),cc._RF.pop()},{}],Orc:[function(e,o,t){"use strict";cc._RF.push(o,"97443cTQwVMNq2iqPKKQ/56","Orc");var n=e("Global");cc.Class({extends:cc.Component,properties:{},nodeMove:function(){"orc"==this.node.name?this.node.x<-this.node.width&&(this.node.x=this.node.parent.width):this.node.x<-this.node.width&&this.node.destroy()},update:function(e){"over"==n.gameInfo.state?this.node.x<=this.node.parent.width&&(this.node.x+=this.node.moveSpeed):(n.game.balljs.accelerate?this.node.x-=this.node.moveSpeed:this.node.x-=2*this.node.moveSpeed,this.nodeMove())}}),cc._RF.pop()},{Global:"Global"}],Rank:[function(e,o,t){"use strict";cc._RF.push(o,"10919IcMlRJCIJnVTKIFzRH","Rank"),cc.Class({extends:cc.Component,properties:{subBox:{default:null,type:cc.Sprite}},openShare:function(){wx.shareAppMessage({title:Global.shareInfo.title,imageUrl:Global.shareInfo.url})},backGame:function(){window.wx&&wx.postMessage({action:"hide"}),cc.director.loadScene("Game")},backHome:function(){window.wx&&wx.postMessage({action:"hide"}),cc.director.loadScene("Home")},onLoad:function(){window.wx&&wx.postMessage({action:"show"})},start:function(){window.wx&&(this.sub=new cc.Texture2D,wx.showShareMenu(),wx.onShareAppMessage(function(e){return{title:Global.shareInfo.title,imageUrl:Global.shareInfo.url}}))},updaetSubDomainCanvas:function(){if(this.sub){var e=wx.getOpenDataContext().canvas;this.sub.initWithElement(e),this.sub.handleLoadedTexture(),this.subBox.spriteFrame=new cc.SpriteFrame(this.sub)}},update:function(e){this.updaetSubDomainCanvas()}}),cc._RF.pop()},{}],Shop:[function(e,o,t){"use strict";cc._RF.push(o,"560e1WzOONLApGuKHuPx+nh","Shop");var n=e("Global"),a=e("utils");cc.Class({extends:cc.Component,properties:{},closeShop:function(){n.home.switchShop(null,null)},shopBtn:function(e,o){switch(Number(o)){case 1:n.userInfo.money>=300?(n.userInfo.money-=300,n.userInfo.dash+=1,n.home.updateUserInfo(),n.saveData(),a.showToast("\u8d2d\u4e70\u6210\u529f~","success")):a.showToast("\u91d1\u5e01\u4e0d\u8db3\uff0c\u8d2d\u4e70\u5931\u8d25");break;case 2:n.userInfo.money>=600?(n.userInfo.money-=600,n.userInfo.boom+=1,n.home.updateUserInfo(),n.saveData(),a.showToast("\u8d2d\u4e70\u6210\u529f~","success")):a.showToast("\u91d1\u5e01\u4e0d\u8db3\uff0c\u8d2d\u4e70\u5931\u8d25");break;case 3:n.userInfo.money>=1e3?(n.userInfo.money-=1e3,n.userInfo.fanatical+=1,n.home.updateUserInfo(),n.saveData(),a.showToast("\u8d2d\u4e70\u6210\u529f~","success")):a.showToast("\u91d1\u5e01\u4e0d\u8db3\uff0c\u8d2d\u4e70\u5931\u8d25");break;default:a.showToast("\u6682\u65f6\u65e0\u6cd5\u8d2d\u4e70\uff0c\u656c\u8bf7\u671f\u5f85~")}},start:function(){}}),cc._RF.pop()},{Global:"Global",utils:"utils"}],Sign:[function(e,o,t){"use strict";cc._RF.push(o,"7314785p89CdbuOywTQapVc","Sign");var n=e("Global"),a=e("utils");cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.Node}},eachCheck:function(){for(var e=this.content.children,o=n.userInfo.signDay-1,t=0;t<e.length;t++)o>t&&(e[t].getChildByName("sign_day").color=cc.hexToColor("#E9DCC9"),e[t].getChildByName("btn").color=cc.hexToColor("#E9DCC9"),cc.find("btn/text",e[t]).getComponent(cc.Label).string="\u5df2\u9886\u53d6"),o<t&&(e[t].getChildByName("btn").color=cc.hexToColor("#E9DCC9"),cc.find("btn/text",e[t]).getComponent(cc.Label).string="\u5f85\u9886\u53d6")},signBtn:function(e,o){switch(Number(o)){case 1:n.userInfo.signDay==o?(n.userInfo.signDay+=1,n.userInfo.money+=1e3,a.showToast("\u9886\u53d6\u6210\u529f","success"),n.home.updateUserInfo(),n.userInfo.signDate=a.timeFormat(),n.saveData(),this.node.destroy()):a.showToast("\u5df2\u7ecf\u9886\u53d6\u8fc7\u4e86");break;case 2:n.userInfo.signDay==o?(n.userInfo.signDay+=1,n.userInfo.money+=2e3,a.showToast("\u9886\u53d6\u6210\u529f","success"),n.home.updateUserInfo(),n.userInfo.signDate=a.timeFormat(),n.saveData(),this.node.destroy()):n.userInfo.signDay>o?a.showToast("\u5df2\u7ecf\u9886\u53d6\u8fc7\u4e86"):a.showToast("\u8fd8\u6ca1\u5230\u9886\u53d6\u65e5\u671f");break;case 3:n.userInfo.signDay==o?(n.userInfo.signDay+=1,n.userInfo.money+=3e3,a.showToast("\u9886\u53d6\u6210\u529f","success"),n.home.updateUserInfo(),n.userInfo.signDate=a.timeFormat(),n.saveData(),this.node.destroy()):n.userInfo.signDay>o?a.showToast("\u5df2\u7ecf\u9886\u53d6\u8fc7\u4e86"):a.showToast("\u8fd8\u6ca1\u5230\u9886\u53d6\u65e5\u671f");break;case 4:n.userInfo.signDay==o?(n.userInfo.signDay+=1,n.userInfo.money+=5e3,a.showToast("\u9886\u53d6\u6210\u529f","success"),n.home.updateUserInfo(),n.userInfo.signDate=a.timeFormat(),n.saveData(),this.node.destroy()):n.userInfo.signDay>o?a.showToast("\u5df2\u7ecf\u9886\u53d6\u8fc7\u4e86"):a.showToast("\u8fd8\u6ca1\u5230\u9886\u53d6\u65e5\u671f");break;case 5:n.userInfo.signDay==o?(n.userInfo.signDay+=1,n.userInfo.dash+=5,a.showToast("\u9886\u53d6\u6210\u529f","success"),n.home.updateUserInfo(),n.userInfo.signDate=a.timeFormat(),n.saveData(),this.node.destroy()):n.userInfo.signDay>o?a.showToast("\u5df2\u7ecf\u9886\u53d6\u8fc7\u4e86"):a.showToast("\u8fd8\u6ca1\u5230\u9886\u53d6\u65e5\u671f");break;case 6:n.userInfo.signDay==o?(n.userInfo.signDay+=1,n.userInfo.fanatical+=5,a.showToast("\u9886\u53d6\u6210\u529f","success"),n.home.updateUserInfo(),n.userInfo.signDate=a.timeFormat(),n.saveData(),this.node.destroy()):n.userInfo.signDay>o?a.showToast("\u5df2\u7ecf\u9886\u53d6\u8fc7\u4e86"):a.showToast("\u8fd8\u6ca1\u5230\u9886\u53d6\u65e5\u671f");break;case 7:n.userInfo.signDay==o?(n.userInfo.signDay=1,n.userInfo.boom+=5,a.showToast("\u9886\u53d6\u6210\u529f","success"),n.home.updateUserInfo(),n.userInfo.signDate=a.timeFormat(),n.saveData(),this.node.destroy()):a.showToast("\u8fd8\u6ca1\u5230\u9886\u53d6\u65e5\u671f")}},onLoad:function(){this.eachCheck()}}),cc._RF.pop()},{Global:"Global",utils:"utils"}],utils:[function(e,o,t){"use strict";cc._RF.push(o,"fc3dbSXtGNNzoy77cUuteSg","utils"),o.exports={saveData:function(e,o){window.localStorage.setItem(e,JSON.stringify(o))},fetchData:function(e){return window.localStorage.getItem(e)?JSON.parse(window.localStorage.getItem(e)):null},showLoading:function(e){wx.showLoading&&wx.showLoading({title:e,mask:!0})},hideLoading:function(){wx.hideLoading&&wx.hideLoading()},showToast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u63d0\u793a",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;window.wx?wx.showToast({title:e,icon:o,duration:t}):alert(e)},showAlert:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u63d0\u793a",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;wx.showModal({title:o,content:e,showCancel:!1,success:function(e){"function"==typeof t&&t()}})},showConfirm:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u786e\u8ba4\u63d0\u9192",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;wx.showModal({title:o,content:e,showCancel:!0,success:function(e){e.confirm?"function"==typeof t&&t():e.cancel&&"function"==typeof n&&n()}})},timeFormat:function(){var e,o,t,n,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=void 0;return e=("0"+((c=s>0?new Date((new Date).getTime()+24*s*3600*1e3):new Date(new Date-24*s*3600*1e3)).getMonth()+1)).slice(-2),o=("0"+c.getDate()).slice(-2),t=("0"+c.getHours()).slice(-2),n=("0"+c.getMinutes()).slice(-2),a=("0"+c.getSeconds()).slice(-2),c.getFullYear()+"-"+e+"-"+o+" "+t+":"+n+":"+a}},cc._RF.pop()},{}]},{},["Ball","Ball_old","Game","Game_over","Orc","Global","Home","Shop","Sign","Logo","Rank","utils"]);