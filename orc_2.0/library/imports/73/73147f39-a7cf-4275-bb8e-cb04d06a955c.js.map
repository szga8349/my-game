{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\Home/assets\\Script\\Home\\Sign.js"],"names":["Global","require","utils","cc","Class","extends","Component","properties","content","default","type","Node","eachCheck","btns","children","day","userInfo","signDay","i","length","getChildByName","color","hexToColor","find","getComponent","Label","string","signBtn","e","num","Number","money","showToast","home","updateUserInfo","signDate","timeFormat","saveData","node","destroy","dash","fanatical","boom","onLoad"],"mappings":"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","file":"Sign.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Home","sourcesContent":["const Global = require('Global');\r\nconst utils = require('utils');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        content: {\r\n            default: null,\r\n            type: cc.Node\r\n        }\r\n    },\r\n\r\n    eachCheck() {\r\n        let btns = this.content.children;\r\n        let day = Global.userInfo.signDay - 1;\r\n        // console.log(btns.length, day);\r\n\r\n        for (let i = 0; i < btns.length; i++) {\r\n            if (day > i) {\r\n                btns[i].getChildByName('sign_day').color = cc.hexToColor('#E9DCC9');\r\n                btns[i].getChildByName('btn').color = cc.hexToColor('#E9DCC9');\r\n                cc.find('btn/text', btns[i]).getComponent(cc.Label).string = '已领取';\r\n            } \r\n            if (day < i) {\r\n                btns[i].getChildByName('btn').color = cc.hexToColor('#E9DCC9');\r\n                cc.find('btn/text', btns[i]).getComponent(cc.Label).string = '待领取';\r\n            }\r\n        }\r\n    },\r\n\r\n    signBtn(e, num) {\r\n        switch (Number(num)) {\r\n            case 1:\r\n                if (Global.userInfo.signDay == num) {\r\n                    Global.userInfo.signDay += 1;\r\n                    Global.userInfo.money += 1000; \r\n                    utils.showToast('领取成功', 'success');\r\n                    Global.home.updateUserInfo();\r\n                    Global.userInfo.signDate = utils.timeFormat();\r\n                    Global.saveData();\r\n                    this.node.destroy();\r\n                } else {\r\n                    utils.showToast('已经领取过了');\r\n                }\r\n                break;\r\n            case 2:\r\n                if (Global.userInfo.signDay == num) {\r\n                    Global.userInfo.signDay += 1;\r\n                    Global.userInfo.money += 2000; \r\n                    utils.showToast('领取成功', 'success');\r\n                    Global.home.updateUserInfo();\r\n                    Global.userInfo.signDate = utils.timeFormat();\r\n                    Global.saveData();\r\n                    this.node.destroy();\r\n                } else {\r\n                    if (Global.userInfo.signDay > num) {\r\n                        utils.showToast('已经领取过了');\r\n                    } else {\r\n                        utils.showToast('还没到领取日期');\r\n                    }\r\n                }\r\n                break;\r\n            case 3:\r\n                if (Global.userInfo.signDay == num) {\r\n                    Global.userInfo.signDay += 1;\r\n                    Global.userInfo.money += 3000; \r\n                    utils.showToast('领取成功', 'success');\r\n                    Global.home.updateUserInfo();\r\n                    Global.userInfo.signDate = utils.timeFormat();\r\n                    Global.saveData();\r\n                    this.node.destroy();\r\n                } else {\r\n                    if (Global.userInfo.signDay > num) {\r\n                        utils.showToast('已经领取过了');\r\n                    } else {\r\n                        utils.showToast('还没到领取日期');\r\n                    }\r\n                }\r\n                break;\r\n            case 4:\r\n                if (Global.userInfo.signDay == num) {\r\n                    Global.userInfo.signDay += 1;\r\n                    Global.userInfo.money += 5000; \r\n                    utils.showToast('领取成功', 'success');\r\n                    Global.home.updateUserInfo();\r\n                    Global.userInfo.signDate = utils.timeFormat();\r\n                    Global.saveData();\r\n                    this.node.destroy();\r\n                } else {\r\n                    if (Global.userInfo.signDay > num) {\r\n                        utils.showToast('已经领取过了');\r\n                    } else {\r\n                        utils.showToast('还没到领取日期');\r\n                    }\r\n                }\r\n                break;\r\n            case 5:\r\n                if (Global.userInfo.signDay == num) {\r\n                    Global.userInfo.signDay += 1;\r\n                    Global.userInfo.dash += 5; \r\n                    utils.showToast('领取成功', 'success');\r\n                    Global.home.updateUserInfo();\r\n                    Global.userInfo.signDate = utils.timeFormat();\r\n                    Global.saveData();\r\n                    this.node.destroy();\r\n                } else {\r\n                    if (Global.userInfo.signDay > num) {\r\n                        utils.showToast('已经领取过了');\r\n                    } else {\r\n                        utils.showToast('还没到领取日期');\r\n                    }\r\n                }\r\n                break;\r\n            case 6:\r\n                if (Global.userInfo.signDay == num) {\r\n                    Global.userInfo.signDay += 1;\r\n                    Global.userInfo.fanatical += 5; \r\n                    utils.showToast('领取成功', 'success');\r\n                    Global.home.updateUserInfo();\r\n                    Global.userInfo.signDate = utils.timeFormat();\r\n                    Global.saveData();\r\n                    this.node.destroy();\r\n                } else {\r\n                    if (Global.userInfo.signDay > num) {\r\n                        utils.showToast('已经领取过了');\r\n                    } else {\r\n                        utils.showToast('还没到领取日期');\r\n                    }\r\n                }\r\n                break;\r\n            case 7:\r\n                if (Global.userInfo.signDay == num) {\r\n                    Global.userInfo.signDay = 1;    // 轮回\r\n                    Global.userInfo.boom += 5; \r\n                    utils.showToast('领取成功', 'success');\r\n                    Global.home.updateUserInfo();\r\n                    Global.userInfo.signDate = utils.timeFormat();\r\n                    Global.saveData();\r\n                    this.node.destroy();\r\n                } else {\r\n                    utils.showToast('还没到领取日期');\r\n                }\r\n                break;\r\n        }\r\n        \r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.eachCheck();\r\n    },\r\n\r\n    // start () {},\r\n\r\n    // update (dt) {},\r\n});\r\n"]}