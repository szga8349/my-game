{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\Game/assets\\Script\\Game\\Game.js"],"names":["Global","require","cc","Class","extends","Component","properties","wrap","default","type","Node","ball","coverStart","map","orc","Prefab","storehouse","bomb","board","blood","coverOver","audioBgm","AudioClip","audioFail","pauseBtn","blaze","speedBone","nodeShock","stopAllActions","seq","sequence","moveTo","runAction","sprintMove","window","wx","vibrateLong","getComponent","dragonBones","ArmatureDisplay","playAnimation","fadeIn","fadeOut","callFunc","gameInfo","startDash","destroy","console","log","stateSwitch","pauseGame","director","resume","loader","loadRes","SpriteFrame","err","res","Sprite","spriteFrame","pause","startGame","countToatal","total","width","i","scheduleOnce","creatOrc","state","schedule","creatPropOrc","orcMoney","orcBoom","orcBoard","speed","balljs","isSprint","node","find","gameOver","score","userInfo","maxScore","saveData","coverOverBox","instantiate","parent","revived","getChildByName","active","repeatForever","scaleTo","playBgm","audioEngine","stopMusic","play","postMessage","action","creatBloodPool","bloodPool","NodePool","put","explode","_x","x","_y","y","height","size","get","setPosition","ParticleSystem","resetSystem","creatOrcPool","orcPool","index","moveSpeed","timeScale","typeNode","parseInt","Math","random","onLoad","game","managerCollis","getCollisionManager","enabled","start","on","value","bounce","abs","showShareMenu","onShareAppMessage","title","shareInfo","imageUrl","url"],"mappings":"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","file":"Game.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Game","sourcesContent":["const Global = require('Global');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // 整体容器（缩放用）\r\n        wrap: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        ball: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        // 开始遮罩\r\n        coverStart: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        // 地图容器\r\n        map: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        // 兽人\r\n        orc: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        // 宝箱\r\n        storehouse: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        // 炸弹\r\n        bomb: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        // 木板\r\n        board: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        // 血液粒子\r\n        blood: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        // 结束遮罩\r\n        coverOver: {\r\n            default: null,\r\n            type: cc.Prefab\r\n            // type: cc.Node\r\n        },\r\n        // bgm\r\n        audioBgm: {\r\n            default: null,\r\n            type: cc.AudioClip\r\n        },\r\n        audioFail: {\r\n            default: null,\r\n            type: cc.AudioClip\r\n        },\r\n        pauseBtn: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        // 火焰闪屏\r\n        blaze: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        // 速度线骨骼\r\n        speedBone: {\r\n            default: null,\r\n            type: cc.Node\r\n        }\r\n    },\r\n    \r\n    // 屏幕震动\r\n    nodeShock() {\r\n        this.wrap.stopAllActions();\r\n        let seq = cc.sequence(\r\n            cc.moveTo(0.1, 0, 30), cc.moveTo(0.1, 0, -30),\r\n            cc.moveTo(0.1, 0, 30), cc.moveTo(0.1, 0, -30),\r\n            cc.moveTo(0.1, 0, 0));\r\n        this.wrap.runAction(seq);\r\n    },\r\n    // 冲刺动画\r\n    sprintMove() {\r\n        if (window.wx) wx.vibrateLong();\r\n        this.speedBone.getComponent(dragonBones.ArmatureDisplay).playAnimation('move', 0);\r\n        let seq = cc.sequence(\r\n            cc.fadeIn(0.2), cc.fadeOut(0.2), cc.fadeIn(0.2), cc.fadeOut(0.2),\r\n            cc.fadeIn(0.2), cc.fadeOut(0.2), cc.fadeIn(0.2), cc.fadeOut(0.2),\r\n            cc.fadeIn(0.2), cc.fadeOut(0.2), cc.fadeIn(0.2), cc.fadeOut(0.2),\r\n            cc.fadeIn(0.2), cc.fadeOut(0.2), cc.fadeIn(0.2), cc.fadeOut(0.2),\r\n            cc.fadeIn(0.2), cc.fadeOut(0.2), cc.fadeIn(0.2), cc.fadeOut(0.2),\r\n            cc.fadeIn(0.2), cc.fadeOut(0.2), cc.fadeIn(0.2), cc.fadeOut(0.2),\r\n            cc.fadeIn(0.2), cc.fadeOut(0.2), cc.fadeIn(0.2), cc.fadeOut(0.2),\r\n            cc.fadeIn(0.2), cc.fadeOut(0.2), cc.fadeIn(0.2), cc.fadeOut(0.2),\r\n            cc.fadeIn(0.2), cc.fadeOut(0.2), cc.fadeIn(0.2), cc.fadeOut(0.2),\r\n            cc.fadeIn(0.2), cc.fadeOut(0.2), cc.fadeIn(0.2), cc.fadeOut(0.2),\r\n            cc.fadeIn(0.2), cc.fadeOut(0.2), cc.fadeIn(0.2), cc.fadeOut(0.2),\r\n            cc.fadeIn(0.2), cc.fadeOut(0.2), cc.fadeIn(0.2), cc.fadeOut(0.2), cc.callFunc(() => {\r\n                Global.gameInfo.startDash = false;\r\n                this.blaze.destroy();\r\n                console.log('冲刺结束');\r\n            }));\r\n        this.blaze.runAction(seq);\r\n    },\r\n    // 暂停\r\n    stateSwitch() {\r\n        if (this.pauseGame) {\r\n            this.pauseGame = false;\r\n            cc.director.resume();\r\n            cc.loader.loadRes('pause', cc.SpriteFrame, (err, res) => {\r\n                this.pauseBtn.getComponent(cc.Sprite).spriteFrame = res;\r\n            });\r\n        } else {\r\n            this.pauseGame = true;\r\n            cc.director.pause();\r\n            cc.loader.loadRes('play', cc.SpriteFrame, (err, res) => {\r\n                this.pauseBtn.getComponent(cc.Sprite).spriteFrame = res;\r\n            });\r\n        }\r\n    },\r\n    // 开始\r\n    startGame() {\r\n        this.coverStart.destroy();\r\n        Global.gameInfo.countToatal = Global.gameInfo.total;\r\n        let seq = cc.sequence(cc.moveTo(1, this.wrap.width / 2, 500), cc.callFunc(() => {\r\n            // 产出兽人\r\n            for (let i = Global.gameInfo.total; i > 0; i--) {\r\n                this.scheduleOnce(() => {\r\n                    this.creatOrc(i);\r\n                    // console.log(i);\r\n                }, 0.2);\r\n            }\r\n            Global.gameInfo.state = 'running';\r\n            // 金币箱兽人生成\r\n            this.schedule(() => this.creatPropOrc(this.storehouse), Global.gameInfo.orcMoney);\r\n            // 炸弹箱子兽人生成\r\n            this.schedule(() => this.creatPropOrc(this.bomb), Global.gameInfo.orcBoom);\r\n            // 木板兽人生成\r\n            this.schedule(() => this.creatPropOrc(this.board), Global.gameInfo.orcBoard);\r\n            // 判断是否高能陨石\r\n            if (Global.gameInfo.startDash) {\r\n                this.sprintMove();\r\n                Global.gameInfo.speed = 8;\r\n                this.balljs.isSprint = true;\r\n            } else {\r\n                this.blaze.destroy();\r\n            }\r\n        }));\r\n        this.ball.runAction(seq);\r\n\r\n        // 针对全面屏手机做的地板拉长\r\n        if (this.node.width >= 1500) {\r\n            cc.find('move-box/floor', this.wrap).width = 3700;\r\n            console.log('针对全面屏手机做的地板拉长');\r\n        }\r\n    },\r\n    \r\n    // 游戏结束\r\n    gameOver() {\r\n        if (Global.gameInfo.score > Global.userInfo.maxScore) {\r\n            console.log('更新最高分数');\r\n            Global.userInfo.maxScore = Global.gameInfo.score;\r\n        }\r\n        Global.saveData();\r\n\r\n        this.coverOverBox = cc.instantiate(this.coverOver);\r\n        this.coverOverBox.parent = this.node;\r\n\r\n        if (!this.revived) {\r\n            this.coverOverBox.getChildByName('revive').active = true;\r\n            let seq = cc.repeatForever(\r\n                cc.sequence(cc.scaleTo(0.3, 1.3, 1.2), cc.scaleTo(0.2, 1, 1))\r\n            );\r\n            this.coverOverBox.getChildByName('revive').runAction(seq);\r\n        }\r\n        Global.playBgm = false;\r\n        cc.audioEngine.stopMusic();\r\n        cc.audioEngine.play(this.audioFail, false);\r\n        if (window.wx) wx.postMessage({ action: 'updata', score: Global.gameInfo.score });\r\n    },\r\n    // 血液粒子对象池\r\n    creatBloodPool() {\r\n        this.bloodPool = new cc.NodePool();\r\n        for (let i = 0; i < Global.gameInfo.total - 5; ++i) {\r\n            let blood = cc.instantiate(this.blood);\r\n            this.bloodPool.put(blood);\r\n        }\r\n    },\r\n    // 血浆粒子爆炸\r\n    explode(node) {\r\n        let blood = null,\r\n            _x = node.x + node.width / 2,\r\n            _y = node.y + node.height / 2;\r\n        if (this.bloodPool.size() > 0) {\r\n            blood = this.bloodPool.get();\r\n        } else {\r\n            cc.log('重新创建粒子');\r\n            blood = cc.instantiate(this.blood);\r\n        }\r\n        blood.setPosition(_x, _y);\r\n        blood.parent = this.map;\r\n        blood.getComponent(cc.ParticleSystem).resetSystem();\r\n\r\n        // 0.5秒后回收\r\n        this.scheduleOnce(() => this.bloodPool.put(blood), 0.5);\r\n    },\r\n    // 兽人对象池\r\n    creatOrcPool() {\r\n        this.orcPool = new cc.NodePool();\r\n        for (let i = 0; i < Global.gameInfo.total; ++i) {\r\n            let orc = cc.instantiate(this.orc);\r\n            this.orcPool.put(orc);\r\n        }\r\n    },\r\n    // 制造兽人\r\n    creatOrc(index = null) {\r\n        let orc = null;\r\n        if (this.orcPool.size() > 0) {\r\n            orc = this.orcPool.get();\r\n        } else {\r\n            console.log('对象池不够用，重新创建');\r\n            orc = cc.instantiate(this.orc);\r\n        }\r\n        orc.y = 0;\r\n        orc.x = this.map.width + orc.width;\r\n        // 赋值（兽人速度）\r\n        if (index) {\r\n            // if (index > 10) index = 10;\r\n            // orc.moveSpeed = 2 + 0.8 * index;\r\n            // orc.getChildByName('node').getComponent(dragonBones.ArmatureDisplay).timeScale = 2 - index * 0.1;\r\n\r\n            if (index <= 10) {\r\n                orc.moveSpeed = 2 + 0.8 * index;\r\n                orc.getChildByName('node').getComponent(dragonBones.ArmatureDisplay).timeScale = 2 - index * 0.1;\r\n            } else {\r\n                orc.moveSpeed = 6 - 0.3 * (index - 10);\r\n                orc.getChildByName('node').getComponent(dragonBones.ArmatureDisplay).timeScale = 2 - (index - 10) * 0.1;\r\n            }\r\n            // console.log('兽人速度赋值', orc.moveSpeed, index);\r\n        }\r\n        orc.parent = this.map;\r\n    },\r\n    // 制造道具兽人\r\n    creatPropOrc(typeNode) {\r\n        let orc = cc.instantiate(typeNode);\r\n        orc.y = 0;\r\n        orc.x = this.map.width + orc.width;\r\n        orc.moveSpeed = parseInt(5 * Math.random()) + 5;\r\n        orc.getChildByName('node').getComponent(dragonBones.ArmatureDisplay).timeScale = 2 - (orc.moveSpeed / 5) * 0.2;\r\n        orc.parent = this.map;\r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        Global.game = this;\r\n\r\n        //碰撞系统\r\n        const managerCollis = cc.director.getCollisionManager();\r\n        managerCollis.enabled = true;\r\n        // 开启碰撞系统的调试线框绘制\r\n        // managerCollis.enabledDebugDraw = true;\r\n        // managerCollis.enabledDrawBoundingBox = true;\r\n\r\n        // ball 脚本\r\n        this.balljs = this.ball.getComponent('Ball');\r\n\r\n        // 使用兽人对象池\r\n        this.creatOrcPool();\r\n\r\n        // 使用粒子对象池\r\n        this.creatBloodPool();\r\n    },\r\n\r\n    start() {\r\n        this.node.on('touchstart', () => {\r\n            if (Global.gameInfo.state == 'over' || this.pauseGame) return;\r\n\r\n            this.balljs.value = 3;\r\n            // this.balljs.bg_speed *= 2;\r\n            // if (this.balljs.bounce > 0) \r\n            this.balljs.bounce = -Math.abs(this.balljs.bounce);\r\n\r\n        }, this);\r\n        if (window.wx) {\r\n            // 显示分享按钮\r\n            wx.showShareMenu();\r\n            // 设置转发分内容\r\n            wx.onShareAppMessage(res => {\r\n                return {\r\n                    title: Global.shareInfo.title,\r\n                    imageUrl: Global.shareInfo.url,\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    // update (dt) {},\r\n});"]}